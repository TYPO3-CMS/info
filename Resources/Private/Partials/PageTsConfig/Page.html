<html
    xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    data-namespace-typo3-fluid="true"
>

<h1>{f:translate(key: 'LLL:EXT:info/Resources/Private/Language/InfoPageTsConfig.xlf:tsconf_title')}</h1>

<form action="{f:be.uri(route: 'web_info_pagets', parameters: '{id: pageUid}')}" method="post" id="InfoModuleController" name="webinfoForm">
    <div class="row row-cols-auto align-items-end g-3 mb-3">
        <div class="col">
            <label class="form-label" for="tsconf_parts">
                {f:translate(key: 'LLL:EXT:info/Resources/Private/Language/InfoPageTsConfig.xlf:display_mode')}
            </label>
            <f:render partial="DropdownMenu" arguments="{name: 'tsconf_parts', id: 'tsconf_parts', options: dropdownMenuOptions, currentValue: dropdownMenuCurrentValue}"/>
        </div>
        <f:if condition="{displayAlphaSort}">
            <div class="col">
                <div class="form-check form-switch">
                    <label class="form-check-label" for="checkTsconf_alphaSort">
                        {f:translate(key: 'LLL:EXT:info/Resources/Private/Language/InfoPageTsConfig.xlf:sort_alphabetic')}
                    </label>
                    <input type="checkbox" class="form-check-input" name="tsconf_alphaSort" value="1" data-global-event="change"
                            data-action-navigate="$data=~s/$value/"
                            data-navigate-value="{alphaSortUrl}"
                            data-empty-value="0" id="checkTsconf_alphaSort" {alphaSortChecked}
                    >
                </div>
            </div>
        </f:if>
    </div>
</form>

<f:if condition="{tsconfParts99}">
    <f:then>
        <f:for each="{lines}" as="line">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <f:format.raw>{line.title}</f:format.raw>
                </div>
                <div class="panel-body">
                    <f:if condition="{line.content -> f:format.stripTags() -> f:spaceless()}">
                        <f:format.raw>{line.content}</f:format.raw>
                    </f:if>
                    <f:render partial="PageTsConfig/EditIcon" arguments="{editIcon: line.editIcon, editTitle: line.editTitle}" />
                </div>
            </div>
        </f:for>
        <f:render partial="PageTsConfig/EditIcon" arguments="{editIcon: editIcon, editTitle: editTitle, editAll: 1}" />
    </f:then>
    <f:else>
        <f:render partial="PageTsConfig/Tree" arguments="{pageTsConfig: pageTsConfig}" />
    </f:else>
</f:if>

</html>
